# NArray Examples

This directory contains sample code using the NArray library.

## Mandelbrot Set Visualization

The Mandelbrot set is a collection of points in the complex plane for which the sequence defined by the recurrence relation z_{n+1} = z_n^2 + c (starting with z_0 = 0) does not diverge when iterated. This fractal figure is not only mathematically beautiful but also serves as a good example of visualizing complex calculations.

This directory includes code to draw the Mandelbrot set using three different implementation methods:

### 1. Basic Implementation (mandelbrot.cr)

The most basic implementation that performs calculations individually for each pixel.

```crystal
crystal examples/mandelbrot.cr
```

### 2. Implementation Using NArray (mandelbrot_narray.cr)

Uses NArray's linspace function to generate coordinate grids and measures calculation time.

```crystal
crystal examples/mandelbrot_narray.cr
```

### 3. Implementation Utilizing NArray's Broadcasting Features (mandelbrot_broadcast.cr)

Uses NArray's reshape and transpose to generate grids on the complex plane for more efficient calculation.

```crystal
crystal examples/mandelbrot_broadcast.cr
```

## Execution Results

The images generated by each implementation method are the same, but there are differences in calculation time. Using NArray is expected to improve computational efficiency.

Generated images:
- mandelbrot.png
- mandelbrot_narray.png
- mandelbrot_broadcast.png

## Customizing Parameters

You can customize the generated images by changing the following parameters in the code:

```crystal
# Image parameters
WIDTH = 800          # Image width
HEIGHT = 600         # Image height
MAX_ITERATIONS = 100 # Maximum number of iterations
ESCAPE_RADIUS = 2.0  # Divergence threshold

# Complex plane range
X_MIN = -2.5         # Minimum x-axis value
X_MAX = 1.0          # Maximum x-axis value
Y_MIN = -1.5         # Minimum y-axis value
Y_MAX = 1.5          # Maximum y-axis value
```

For example, to generate a more detailed image, increase the values of WIDTH, HEIGHT, and MAX_ITERATIONS. To zoom in on a specific area, adjust the values of X_MIN, X_MAX, Y_MIN, and Y_MAX.
